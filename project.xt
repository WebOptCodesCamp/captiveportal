am building a captive portal system for a Kenyan Wi-Fi business that runs entirely on a local Windows PC using PHP, MySQL, and TailwindCSS.

Requirements:

1. Users connect to the Wi-Fi and are redirected to a PHP login page hosted on my Windows PC with a static IP (e.g., 192.168.1.100).
2. The portal captures the user's device MAC address by querying the ARP table on Windows via PHP.
3. If the device has an active bundle with remaining data, allow internet access.
4. If the bundle is exhausted or no bundle exists, redirect to a login page where the user enters their phone number (as username) and password.
5. After login, the user sees options to purchase data bundles (e.g., 3 KES, 10 KES, 20 KES).
6. Payment is processed through Safaricom M-Pesa Daraja API using STK Push.
7. On successful payment, assign the corresponding data bundle to the user's MAC address and enable access.
8. Bundle usage is tracked and stored in MySQL, but network-level blocking/enforcement is handled via the Wi-Fi routerâ€™s MAC filtering or third-party Windows tools.
9. Admins can log in to view connected devices, MAC addresses, bundle usage, remaining balances, and total earnings.
10. The system must include a responsive UI styled with TailwindCSS.
11. Provide SQL schema for users, devices, and transactions.
12. Deliver PHP backend code for user auth, bundle management, M-Pesa integration, and admin dashboard.
13. Include instructions on how to deploy this on a Windows PC using XAMPP or WAMP.

